<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link rel="stylesheet" href="style.css">
   <link rel="stylesheet" href="monetization.css">
  <script src="frontend.js" defer></script>
   <script src="backend.js" defer></script>
   <script src="campaignService.js" defer></script>
  <script src="donation.js" defer></script>
  <script src="premium.js" defer></script>
  <link href="https://fonts.googleapis.com/css2?family=Funnel+Sans:ital,wght@0,300;1,300&display=swap" rel="stylesheet">
  <script src="firebaseConfig.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/ui/6.1.0/firebase-ui-auth.js"></script>
<link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.1.0/firebase-ui-auth.css" />
  <title>Start a campaign</title>
</head>

<body>
<nav>
  <a href="Homepage.html" class="logo-link">
    <img src="photos/logo.png" alt="FundFlow" class="brand-logo">
  </a>
  <div class="nav-center">
    <a href="Homepage.html">Home</a>
    <a class="search"><img src="photos/search.png" alt="Search Icon"> search</a>
    <a>donate</a>
    <a class="about" href="About.html">about <img src="photos/triangle-arrow.png" alt="About Arrow"></a>
    <a id="auth-link">
      <span id="nav-username">Signup / Login</span>
      <img id="logout-icon" src="photos/logouticon.png" alt="Logout">
    </a>
  </div>
</nav>

<!-- Auth Modal -->
<div id="auth-modal" class="auth-modal">
  <div class="auth-modal-content">
    <button id="close-auth-modal" class="auth-close-btn">&times;</button>
    <div id="user-info"></div>
    <button id="logout-btn" style="display:none;">Logout</button>
    <div id="auth-container"></div>
  </div>
</div>

<main class="main-content">
  <section class="campaign-form-section">
    <form id="campaignForm" class="campaign-form-card">
      <h2>Start a Campaign</h2>
      <label>
        Campaign Title
        <input type="text" name="title" maxlength="80" required placeholder="e.g. Help Rahul Recover from Surgery">
      </label>
      <label>
        Goal Amount
        <div class="goal-input">
          <span>‚Çπ</span>
          <input type="number" name="goal" min="100" required placeholder="Enter amount">
        </div>
      </label>
      <label>
        Category
        <select name="category" required>
          <option value="">Select Category</option>
          <option>Medical</option>
          <option>Education</option>
          <option>Animals</option>
          <option>Disaster Relief</option>
          <option>Personal</option>
          <option>Other</option>
        </select>
      </label>
      <label>
        Location (optional)
        <input type="text" name="location" placeholder="e.g. Pune, Maharashtra">
      </label>
      <label>
        Campaign Description
        <textarea name="description" maxlength="1000" rows="6" required placeholder="Tell your story (max 1000 chars)"></textarea>
        <div class="char-count"><span id="desc-count">0</span>/1000</div>
      </label>
      <label>
        Upload Images/Videos
        <input type="file" name="media" accept="image/*,video/*" multiple id="mediaInput">
        <div id="imagePreview" style="margin-top: 10px; display: none;">
          <img id="previewImg" style="max-width: 200px; max-height: 150px; border-radius: 8px; object-fit: cover;">
        </div>
      </label>
      <fieldset>
        <legend>Organizer Details</legend>
        <input type="text" name="organizerName" required placeholder="Your Name">
        <input type="text" name="relation" required placeholder="Relation to beneficiary">
        <input type="text" name="ngo" placeholder="NGO Name (optional)">
      </fieldset>

      <!-- Premium Upgrade Section -->
      <div class="premium-upgrade-section">
        <div class="upgrade-card">
          <div class="upgrade-header">
            <h3>üèÜ Want to boost your campaign's success?</h3>
            <p>Verified campaigns receive <strong>3x more donations</strong> on average!</p>
          </div>
          <div class="upgrade-benefits">
            <div class="benefit-item">
              <span class="benefit-icon">‚úì</span>
              <span>Get a verified badge to build trust</span>
            </div>
            <div class="benefit-item">
              <span class="benefit-icon">üìà</span>
              <span>Priority placement in search results</span>
            </div>
            <div class="benefit-item">
              <span class="benefit-icon">üìä</span>
              <span>Access advanced campaign analytics</span>
            </div>
            <div class="benefit-item">
              <span class="benefit-icon">üéØ</span>
              <span>Stand out from other campaigns</span>
            </div>
          </div>
          <div class="upgrade-pricing">
            <div class="price-options">
              <div class="price-option">
                <span class="price">‚Çπ499</span>
                <span class="plan">Basic Verification</span>
              </div>
              <div class="price-option popular">
                <span class="popular-badge">Most Popular</span>
                <span class="price">‚Çπ999</span>
                <span class="plan">Premium Verification</span>
              </div>
              <div class="price-option">
                <span class="price">‚Çπ1,999</span>
                <span class="plan">Organization Verification</span>
              </div>
            </div>
            <button type="button" class="upgrade-btn" onclick="openVerificationModal()">Get Verified Now</button>
            <small>Or publish for free and upgrade later</small>
          </div>
        </div>
      </div>

      <div class="form-actions">
        <button type="button" id="saveDraftBtn">Save Draft</button>
        <button type="button" id="previewBtn">Preview Campaign</button>
        <button type="submit" id="publishBtn">Publish Campaign (Free)</button>
      </div>
    </form>
  </section>
</main>



<!-- About Us Teaser -->
<section class="about-teaser">
  <h2>About Us</h2>
  <p>
    We believe everyone deserves a chance to be heard and helped.<br>
    Our mission is to connect genuine needs with generous hearts.<br>
    Join us in building a future where hope is always within reach.
  </p>
  <a href="About.html" class="about-link">Learn more about us &rarr;</a>
</section>

<!-- FAQ Teaser -->
<section class="faq-teaser">
  <h2>FAQs</h2>
  <div class="faq-list">
    <details class="faq-item">
      <summary><strong>Is my donation secure?</strong></summary>
      <p>Yes, all payments are encrypted and processed by trusted partners.</p>
    </details>
    <details class="faq-item">
      <summary><strong>Do I need an account to donate?</strong></summary>
      <p>No, you can donate without signing up. But creating an account lets you track your impact!</p>
    </details>
    <details class="faq-item">
      <summary><strong>How quickly can I withdraw funds?</strong></summary>
      <p>Most withdrawals are processed within 24 hours after verification.</p>
    </details>
    <details class="faq-item">
      <summary><strong>Can I start a fundraiser for someone else?</strong></summary>
      <p>Yes, you can start a fundraiser on behalf of a friend, family member, or community cause.</p>
    </details>
    <details class="faq-item">
      <summary><strong>Are there any platform fees?</strong></summary>
      <p>No, we charge 0% platform fee. All funds go directly to your cause.</p>
    </details>
  </div>
  <a href="FAQ.html" class="faq-btn">Read all FAQs</a>
</section>

<!-- Footer -->
<footer>
  <div class="footer-links">
    <a href="About.html">About</a>
    <a href="FAQ.html">FAQs</a>
    <a href="#">Contact</a>
    <a href="#">Terms</a>
    <a href="#">Privacy</a>
  </div>
  <div class="footer-social">
    <a href="#"><img src="photos/icon-facebook.png" alt="Facebook"></a>
    <a href="#"><img src="photos/icon-twitter.png" alt="Twitter"></a>
    <a href="#"><img src="photos/icon-instagram.png" alt="Instagram"></a>
    <!-- Add more as needed -->
  </div>
  <div class="footer-tagline">
    Together, we fund hope.
  </div>
  <div class="footer-credits">
    &copy; 2025 FundFlow. All rights reserved.
  </div>
</footer>

<script>
// Authentication check for campaign form
document.addEventListener('DOMContentLoaded', function() {
  const campaignForm = document.getElementById('campaignForm');
  const formSection = document.querySelector('.campaign-form-section');
  
  // Check if user is authenticated
  firebase.auth().onAuthStateChanged(function(user) {
    if (user) {
      // User is logged in, show the form
      formSection.style.display = 'block';
      
      // Add image preview functionality
      const mediaInput = document.getElementById('mediaInput');
      const imagePreview = document.getElementById('imagePreview');
      const previewImg = document.getElementById('previewImg');
      
      mediaInput.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file && file.type.startsWith('image/')) {
          const reader = new FileReader();
          reader.onload = function(e) {
            previewImg.src = e.target.result;
            imagePreview.style.display = 'block';
          };
          reader.readAsDataURL(file);
        } else {
          imagePreview.style.display = 'none';
        }
      });
    } else {
      // User is not logged in, show login prompt
      formSection.innerHTML = `
        <div class="login-prompt">
          <div class="login-prompt-content">
            <h2>Login Required</h2>
            <p>You need to be logged in to start a campaign. Please sign in or create an account to continue.</p>
            <button id="login-prompt-btn" class="btn-primary">Sign In / Sign Up</button>
          </div>
        </div>
      `;
      
      // Add click handler for login button
      document.getElementById('login-prompt-btn').onclick = function() {
        document.getElementById('auth-modal').classList.add('active');
      };
    }
  });
});
</script>

</body>
</html>